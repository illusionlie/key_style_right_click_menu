!function(){if(!document.getElementById("gal_style")){const e=document.createElement("style");e.id="gal_style",e.innerHTML='\n            @charset "utf-8";\n            body,html{margin:0;padding:0;width:100%;height:100%}\n            body{font-size:1.4rem;background:#494a5f url() no-repeat fixed;background-size:cover;font-family:"Segoe UI","Lucida Grande",Helvetica,Arial,"Microsoft YaHei",FreeSans,Arimo,"Droid Sans","wenquanyi micro hei","Hiragino Sans GB","Hiragino Sans GB W3",FontAwesome,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}\n            a{text-decoration:none;outline:0}\n            .galMenu{margin:0;padding:0;display:none;position:fixed;z-index:999}\n            .circle,.ring{height:300px;position:relative;width:300px}\n            .circle{margin:0 auto}\n            .ring{border-radius:50%;opacity:0;-webkit-transform-origin:50% 50%;-moz-transform-origin:50% 50%;-ms-transform-origin:50% 50%;-o-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform:scale(.1) rotate(-270deg);-moz-transform:scale(.1) rotate(-270deg);-ms-transform:scale(.1) rotate(-270deg);-o-transform:scale(.1) rotate(-270deg);transform:scale(.1) rotate(-270deg);-webkit-transition:all .4s ease-out;-moz-transition:all .4s ease-out;-ms-transition:all .4s ease-out;-o-transition:all .4s ease-out;transition:all .4s ease-out}\n            .open .ring{opacity:1;-webkit-transform:scale(1) rotate(0);-moz-transform:scale(1) rotate(0);-ms-transform:scale(1) rotate(0);-o-transform:scale(1) rotate(0);transform:scale(1) rotate(0)}\n            .open{border-color:#aaa}\n            .menuItem{border-radius:50%;color:#eee;display:block;height:80px;line-height:80px;margin-left:-41px;margin-top:-41px;position:absolute;text-align:center;width:80px;background-size:80px;border:2px #b59494 solid;box-shadow:0 0 15px #fff;-webkit-box-shadow:0 0 15px #fff;-moz-box-shadow:0 0 15px #fff}\n            .menuItem:hover{box-shadow:inset 0 0 80px #fff;-webkit-box-shadow:inset 0 0 80px #fff;-moz-box-shadow:inset 0 0 80px #fff}\n            .ring a:nth-of-type(1){background-image:url(https://cdn.illusionlie.com/img/girls/chieri_thumb.webp)}\n            .ring a:nth-of-type(2){background-image:url(https://cdn.illusionlie.com/img/girls/kaguya_thumb.webp)}\n            .ring a:nth-of-type(3){background-image:url(https://cdn.illusionlie.com/img/girls/ren_thumb.webp)}\n            .ring a:nth-of-type(4){background-image:url(https://cdn.illusionlie.com/img/girls/yurugi_thumb.webp)}\n            .ring a:nth-of-type(5){background-image:url(https://cdn.illusionlie.com/img/girls/uena_thumb.webp)}\n            .ring a:nth-of-type(6){background-image:url(https://cdn.illusionlie.com/img/girls/ayane_thumb.webp)}\n            .ring a{display:inline-block;color:#fff;text-shadow:#DC965A 1px 0 0,#DC965A 0 1px 0,#DC965A -1px 0 0,#DC965A 0 -1px 0;-webkit-text-shadow:#DC965A 1px 0 0,#DC965A 0 1px 0,#DC965A -1px 0 0,#DC965A 0 -1px 0;-moz-text-shadow:#DC965A 1px 0 0,#DC965A 0 1px 0,#DC965A -1px 0 0,#DC965A 0 -1px 0}\n            .ring a:hover{text-shadow:#6CF 1px 0 0,#6CF 0 1px 0,#6CF -1px 0 0,#6CF 0 -1px 0;-webkit-text-shadow:#6CF 1px 0 0,#6CF 0 1px 0,#6CF -1px 0 0,#6CF 0 -1px 0;-moz-text-shadow:#6CF 1px 0 0,#6CF 0 1px 0,#6CF -1px 0 0,#6CF 0 -1px 0}\n            #overlay{height:100%;position:fixed;width:100%;left:0;top:0;background:url() repeat scroll 0 0 rgba(0,0,0,.5);display:none;z-index:998;} /* 为 overlay 添加 z-index */\n        ',document.head.appendChild(e)}var e={defaults:{menu:"galRing",click_to_close:!0,stay_open:!1},init:function(t){var o=t,n=document.getElementById("galAudio"),i=document.querySelectorAll(this);let r=document.getElementById("overlay");r||(r=document.createElement("div"),r.id="overlay",r.style.display="none",document.body.appendChild(r)),i.forEach((function(t){var i=Object.assign({},e.defaults,o),a=document.querySelector("."+i.menu);function l(e){a.querySelector(".circle").classList.remove("open"),r.style.display="none",a.style.opacity=1,a.style.transition="opacity 0.4s ease-out",a.style.opacity=0,setTimeout((function(){a.style.display="none",a.style.transition=""}),400),n.pause(),n.currentTime=0}i.stay_open||t.querySelectorAll("div.ring > a").forEach((function(e){e.addEventListener("click",(function(e){l()}))}));t.addEventListener("mousedown",(function(t){3!==t.which&&!e.closest(t.target,".galMenu")&&i.click_to_close&&l()})),t.addEventListener("contextmenu",(function(t){t.preventDefault(),t.stopPropagation(),document.getElementById("gal").classList.contains("open")?l():function(t){e.getCoords(t);var o=Coords.clientY-150,i=document.body===t.target?Coords.clickX-150:Coords.clientX-150,l=document.documentElement.clientHeight,s=document.documentElement.clientWidth;o<0&&(o=0),l-Coords.clientY<150&&(o=l-300),i<0&&(i=0),document.body===t.target?s-Coords.clickX<150&&(i=s-300):s-Coords.clientX<150&&(i=s-300),a.style.top=o+"px",a.style.left=i+"px",a.style.display="block",window.getComputedStyle(a).opacity,a.style.transition="opacity 0.1s ease-out",a.style.opacity=1,a.querySelector(".circle").classList.add("open"),r.style.display="block",a.style.display="block",n.play()}(t)})),t.addEventListener("keyup",(function(e){27==e.keyCode&&(document.getElementById("gal").classList.contains("open")&&l())}))}))},getCoords:function(e){var t=e||window.event,o=0,n=0;return(t.clientX||t.clientY)&&document.body&&null!=document.body.scrollLeft&&(o=t.clientX+document.body.scrollLeft,n=t.clientY+document.body.scrollTop),(t.clientX||t.clientY)&&"CSS1Compat"==document.compatMode&&document.documentElement&&null!=document.documentElement.scrollLeft&&(o=t.clientX+document.documentElement.scrollLeft,n=t.clientY+document.documentElement.scrollTop),(t.pageX||t.pageY)&&(o=t.pageX,n=t.pageY),Coords={clickX:o,clickY:n,clientX:t.clientX,clientY:t.clientY,screenX:t.screenX,screenY:t.screenY},Coords},closest:function(e,t){if(Element.prototype.closest)return e.closest(t);for(var o=e;o;){if(o.matches&&o.matches(t))return o;o=o.parentNode}return null}};window.galMenu=function(t,o,n){document.querySelectorAll(t);return e[o]?e[o].apply(t,Array.prototype.slice.call(arguments,1)):"object"!=typeof o&&o?void console.error("Method "+o+" does not exist"):e.init.apply(t,[o||n])},document.addEventListener("DOMContentLoaded",(function(){for(var t=document.querySelectorAll(".menuItem"),o=0,n=t.length;o<n;o++)t[o].style.left=(50-35*Math.cos(-.5*Math.PI-1/n*2*o*Math.PI)).toFixed(4)+"%",t[o].style.top=(50+35*Math.sin(-.5*Math.PI-1/n*2*o*Math.PI)).toFixed(4)+"%";e("body",{menu:"galRing",click_to_close:!0,stay_open:!1})}))}(),String.prototype.removeWS=function(){return this.toString().replace(/\s/g,"")},String.prototype.pF=function(){return parseFloat(this)},Number.prototype.pF=function(){return parseFloat(this)};